<main class="user-dashboard" role="main">

  <section class="section donation-statistics">
    <div class="row">
      <div class="col-9">
        <h1 class="section-title">High-Five, Kevin!</h1>
        <p class="donor-affirmation">You’ve really worked hard to make a difference and it’s showing!</p>
      </div>
      <div class="col-3">
        <button class="btn btn-export">EXPORT DATA</button>
      </div>
    </div>
    <div class="row text-center mt-2 align-items-center">
      <div class="col-12 col-md-4">
        <div class="card pt-3 pb-3">
          <div class="card-body">
            <h1>$2981</h1>
            <p>DONATED THIS YEAR</p>
          </div>
        </div>
        <div class="card pt-3 pb-3">
          <div ngbDropdown>
            <button class="btn btn-outline-primary" id="donationPeriods" ngbDropdownToggle>2019 Year-End-Projection</button>
            <div ngbDropdownMenu aria-labelledby="donationPeriods">
              <button class="dropdown-item dropdown-color-1">Daily Giving Total</button>
              <button class="dropdown-item dropdown-color-2">Weekly Giving Total</button>
              <button class="dropdown-item dropdown-color-3">Monthly Giving Total</button>
              <button class="dropdown-item dropdown-color-4">Quaterly Giving Total</button>
            </div>
          </div>
          <h2>$5628</h2>
        </div>
      </div>
      <div class="col-6 col-md-4">
        <highcharts-chart 
          [Highcharts]="Highcharts"
          [options]="chartOptions"
          [(update)]="updateChart"
          style="width: 100%; height: 400px; display: block;"
        ></highcharts-chart>
      </div>
      <div class="col-6 col-md-4">
        <div *ngFor="let donationOrg of donationOrgs; let i = index" [attr.data-index]="i" class="donation-item border-color-{{i}}">
          <div *ngIf="i !== selectedOrg">
            <h3>${{ donationOrg.amount }}</h3>
            <p>{{ donationOrg.name }}</p>
          </div>
          <div *ngIf="i === selectedOrg">
            <div class="row">
              <div class="col-6 bg-color-{{i}}">
                <h3 class="text-white">${{ donationOrg.amount }}</h3>
                <p class="text-white">{{ donationOrg.name }}</p>
              </div>
              <div class="col-6 bg-color-{{i}} opacity-5">
                <h3 class="text-white">${{ donationOrg.amount }}</h3>
                <p class="text-white">by end of 2019</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section hero-charities">
    <div class="row mb-3">
      <div class="col-9">
        <h3 class="section-title">Manage Your Contributions</h3>
      </div>
      <div class="col-3">
        <button class="btn btn-add-charity" (click)="addCharity()">ADD A CHARITY</button>
      </div>
    </div>
    <div *ngIf="!showCharityManageView" class="row active-charities">
      <div class="col-6 col-lg-3">
        <div class="card">
          <img src="../../../assets/images/ASPCA.png" class="img-fluid">
          <div class="row charity-details text-center align-items-center">
            <div class="col">
              <p>YOU GIVE THE</p>
              <p>ASPCA</p>
              <h3 class="pt-2"><small>$</small>40</h3>
              <p>every day</p>
              <button class="btn btn-manage-charity" (click)="setShowCharityManage(true)">MANAGE</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-6 col-lg-3">
        <div class="card">
          <img src="../../../assets/images/NCADV.png" class="img-fluid">
          <div class="row charity-details text-center align-items-center">
            <div class="col">
              <p>YOU GIVE THE</p>
              <p>NCADV</p>
              <h3 class="pt-2"><small>$</small>40</h3>
              <p>every day</p>
              <button class="btn btn-manage-charity" (click)="setShowCharityManage(true)">MANAGE</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-6 col-lg-3">
        <div class="card">
          <img src="../../../assets/images/MOMA.png" class="img-fluid">
          <div class="row charity-details text-center align-items-center">
            <div class="col">
              <p>YOU GIVE THE</p>
              <p>MOMA</p>
              <h3 class="pt-2"><small>$</small>40</h3>
              <p>every day</p>
              <button class="btn btn-manage-charity" (click)="setShowCharityManage(true)">MANAGE</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-6 col-lg-3">
        <div class="card">
          <img src="../../../assets/images/Alzheimer.png" class="img-fluid">
          <div class="row charity-details text-center align-items-center">
            <div class="col">
              <p>YOU GIVE THE</p>
              <p>Alzheimer</p>
              <h3 class="pt-2"><small>$</small>40</h3>
              <p>every day</p>
              <button class="btn btn-manage-charity" (click)="setShowCharityManage(true)">MANAGE</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Charity Manage Popup -->
    <div *ngIf="showCharityManageView" class="charity-manage">
      <div class="card">
        <div class="row no-gutters">
          <div class="col-7">
            <div class="charity-manage-detail">
              <button type="button" class="btn-close text-left" aria-label="Close" (click)="setShowCharityManage(false)">
                <span aria-hidden="true">&times;</span>
              </button>
              <div class="text-center">
                <p>You’ve raised a total of <strong>$3,105</strong> since December <strong>2017</strong> for the:</p>
                <h1 class="text-white">ASPCA</h1>
              </div>
              <div class="donation-dropdown-wrapper text-center">
                <span class="glyphicon glyphicon-question-sign"></span>
                <div ngbDropdown>
                  <button class="btn btn-outline-primary" id="donationByDay" ngbDropdownToggle>
                    <span class="h1"><sup>$</sup>5.00 <span class="text-secondary">|</span> </span><span class="h3"><span class="text-dark">every</span> day</span>
                  </button>
                  <div ngbDropdownMenu aria-labelledby="donationByDay">
                  </div>
                </div>
                <p>SEE OTHER DONATION SUGGESTIONS</p>
              </div>
              <div class="text-center">
                <p>via your Visa ending in in <strong>8467</strong></p>
              </div>
              <div class="price-compare text-center">
                <p>Your selected settings, <strong>over one year</strong>, will equal:</p>
                <div class="row">
                  <div class="col-4">
                    <h3>52</h3>
                    <p>ANIMALS SAVED</p>
                  </div>
                  <div class="col-4">
                    <h3>52</h3>
                    <p>ANIMALS SAVED</p>
                  </div>
                  <div class="col-4">
                    <h3>52</h3>
                    <p>ANIMALS SAVED</p>
                  </div>
                </div>
              </div>
              <div class="text-center">
                <button class="btn btn-cancel">CANCEL</button>
                <button class="btn btn-save">SAVE CHANGES</button>
              </div>
            </div>
          </div>
          <div class="col-5">
            <img src="../../../assets/images/happy-dog.png" class="img-fluid">
            <div class="row align-items-center p-4 no-gutters">
              <div class="col">
                <p class="text-primary">Latest News</p>
                <h5>ASPCA uses National Pit Bull Awareness Day to educate those who fear the breed</h5>
                <a href="#" class="float-right">Read More</a>
              </div>
            </div>
            <div class="p-4">
              <button class="btn btn-more-charity">MORE ABOUT THIS CHARITY</button>
            </div>
          </div>
        </div>
      </div>
    </div><!-- Charity Manage Popup End -->
  </section>

  <section class="section hero-payments">
    <div class="row mb-3">
      <div class="col-9">
        <h3 class="section-title">Payment Settings</h3>
      </div>
      <div class="col-3">
        <button class="btn btn-add-charity">ADD PAYMENT METHOD</button>
      </div>
    </div>
    <div *ngFor="let payment of payments let i = index" [attr.data-index]="i" class="payment-methods">
      <div *ngIf="payment.default" class="default-payment"><strong>Default Payment Method</strong></div>
      <div class="row card-info">
        <div class="col-3"><img [src]="payment.icon" class="pr-2">{{ payment.type }} ending in 3456</div>
        <div class="col-3">Expires {{ payment.expire }}</div>
        <div class="col-3">Used for 03 charities</div>
        <div class="col-3">
          <button class="btn btn-manage-charity" (click)="togglePaymentDetail(i)">{{ showPaymentDetail[i]? 'CLOSE DETAILS': 'MORE DETAILS' }}</button>
        </div>
      </div>
      <div [ngbCollapse]="!showPaymentDetail[i]" class="row collapse expand-payment-details" id="payment-details-one">
        <div class="col-4">
          <div class="row card-name">
            <div class="col">
              <div class="name-title">Name on Card</div>
              <div class="name-info">John Smith</div>
            </div>
          </div>
          <div class="row card-address">
            <div class="col">
              <div class="address-title">Billing Address</div>
              <div class="address-info">
                <span class="street">1234 Main St</span>
                <span class="city-state-zip">Atlanta, GA 30318</span>
              </div>
            </div>
          </div>
          <div class="row card-options">
            <div class="col">
              <div class="edit">Edit Information</div>
              <div class="lost-or-stolen">Lost or Stolen?</div>
              <div class="delete-card">Delete</div>
            </div>
          </div>
        </div>
        <div class="col-8">
          <h5>Supporting Charities</h5>
          <ul class="payment-charities">
            <li>MOMA</li>
            <li>ASPCA</li>
            <li>Atlanta Humane Society</li>
            <li>National Coalition Against Domestic Violence</li>
          </ul>
        </div>
      </div>
    </div>
  </section>
</main>
